{"ast":null,"code":"import \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport _classCallCheck from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\project\\\\environment-web\\\\src\\\\pages\\\\device\\\\info\\\\List.js\";\nimport React, { Component } from 'react';\nimport Button from '@/components/button';\nimport Table from '@/components/table';\nimport Edit from './Edit';\n\nvar List = /*#__PURE__*/function (_Component) {\n  _inherits(List, _Component);\n\n  function List(props) {\n    var _this;\n\n    _classCallCheck(this, List);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(List).call(this, props));\n    _this.tableRef = React.createRef();\n    _this.formRef = React.createRef();\n\n    _this.addDevice = function (id) {\n      _this.setState({\n        id: id,\n        edit: true\n      });\n    };\n\n    _this.createQRcode = function () {\n      React.axios.post('api/device/tdevice/getQRcode?width=100&height=100&content=456', null, function (res) {\n        _this.setState({\n          showQRcode: true,\n          QRcodeImg: res.data\n        });\n      });\n    };\n\n    _this.del = function (id) {\n      React.message.confirm('确定删除该设备？', function () {\n        React.axios.post('api/device/tdevice/delete', [id], function () {\n          React.message.success('删除成功！');\n\n          _this.tableRef.reload();\n        });\n      });\n    };\n\n    _this.reset = function () {\n      _this.formRef.current.resetFields();\n\n      _this.tableRef.reload(_this.formRef.current.getFieldsValue(true));\n    };\n\n    _this.cancelEdit = function () {\n      _this.setState({\n        edit: false\n      });\n    };\n\n    _this.tableReload = function () {\n      var params = _this.formRef.current.getFieldValue();\n\n      _this.tableRef.reload(params);\n\n      _this.setState({\n        edit: false\n      });\n    };\n\n    _this.state = {\n      QRcodeImg: null,\n      id: null\n    };\n    return _this;\n  }\n\n  _createClass(List, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var columns = [{\n        title: '通道名称',\n        dataIndex: 'channelName',\n        key: 'channelName'\n      }, {\n        title: '设备名称',\n        dataIndex: 'deviceName',\n        key: 'deviceName'\n      }, {\n        title: '标签名',\n        dataIndex: 'tagName',\n        key: 'tagName'\n      }, {\n        title: '数据类型',\n        dataIndex: 'dataType',\n        key: 'dataType'\n      }, {\n        title: '描述',\n        dataIndex: 'describe',\n        key: 'describe'\n      }, {\n        title: '操作',\n        width: '150px',\n        align: 'center',\n        render: function render(text, item) {\n          return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n            type: \"link\",\n            size: \"small\",\n            onClick: _this2.addDevice.bind(_this2, item.id),\n            icon: \"edit\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 25\n            }\n          }, \"\\u4FEE\\u6539\"), /*#__PURE__*/React.createElement(Button, {\n            type: \"link\",\n            size: \"small\",\n            onClick: _this2.del.bind(_this2, item.id),\n            danger: true,\n            icon: \"delete\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 25\n            }\n          }, \"\\u5220\\u9664\"));\n        }\n      }];\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Form, {\n        layout: \"inline\",\n        ref: this.formRef,\n        onFinish: function onFinish(values) {\n          _this2.tableRef.reload(values);\n        },\n        className: \"query-tools\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        name: \"channelName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(_Input, {\n        placeholder: \"\\u901A\\u9053\\u540D\\u79F0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(_Form.Item, {\n        name: \"deviceName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(_Input, {\n        placeholder: \"\\u8BBE\\u5907\\u540D\\u79F0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(_Form.Item, {\n        name: \"tagName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(_Input, {\n        placeholder: \"\\u6807\\u7B7E\\u540D\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        icon: \"search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }\n      }, \"\\u641C\\u7D22\")), /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.reset,\n        icon: \"chongzhi\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 25\n        }\n      }, \"\\u91CD\\u7F6E\")), /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        onClick: this.addDevice,\n        icon: \"add\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 25\n        }\n      }, \"\\u6DFB\\u52A0\"))), /*#__PURE__*/React.createElement(Table, {\n        onRef: function onRef(ref) {\n          return _this2.tableRef = ref;\n        },\n        columns: columns,\n        method: \"get\",\n        url: \"api/device/deviceinfo/list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(_Modal, {\n        footer: \"\",\n        title: \"\\u8BBE\\u5907\\u4E8C\\u7EF4\\u7801\",\n        width: \"200px\",\n        visible: this.state.showQRcode,\n        onCancel: function onCancel() {\n          _this2.setState({\n            showQRcode: false\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        width: \"100%\",\n        src: this.state.QRcodeImg,\n        alt: \"\\u8BBE\\u5907\\u7801\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }\n      })), this.state.edit && /*#__PURE__*/React.createElement(Edit, {\n        id: this.state.id,\n        onCancel: this.cancelEdit,\n        onOk: this.tableReload,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 37\n        }\n      }));\n    }\n  }]);\n\n  return List;\n}(Component);\n\nexport { List as default };","map":{"version":3,"sources":["E:/project/environment-web/src/pages/device/info/List.js"],"names":["React","Component","Button","Table","Edit","List","props","tableRef","createRef","formRef","addDevice","id","setState","edit","createQRcode","axios","post","res","showQRcode","QRcodeImg","data","del","message","confirm","success","reload","reset","current","resetFields","getFieldsValue","cancelEdit","tableReload","params","getFieldValue","state","columns","title","dataIndex","key","width","align","render","text","item","bind","values","ref"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Form,Input,Modal} from 'antd';\r\nimport Button from '@/components/button';\r\nimport Table from '@/components/table';\r\nimport Edit from './Edit';\r\nexport default class List extends Component{\r\n    tableRef = React.createRef();\r\n    formRef = React.createRef();\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            QRcodeImg: null,\r\n            id: null\r\n        }\r\n    }\r\n    addDevice=(id)=>{\r\n        this.setState({id: id, edit: true})\r\n    }\r\n    // 创建二维码\r\n    createQRcode=()=>{\r\n        React.axios.post('api/device/tdevice/getQRcode?width=100&height=100&content=456',null,res=>{\r\n            this.setState({\r\n                showQRcode: true,\r\n                QRcodeImg: res.data\r\n            });\r\n        })\r\n    }\r\n    // 删除设备\r\n    del=(id)=>{\r\n        React.message.confirm('确定删除该设备？',()=>{\r\n            React.axios.post('api/device/tdevice/delete',[id],()=>{\r\n                React.message.success('删除成功！');\r\n                this.tableRef.reload();\r\n            })\r\n        });\r\n    }\r\n    // 重置\r\n    reset=()=>{\r\n        this.formRef.current.resetFields();\r\n        this.tableRef.reload(this.formRef.current.getFieldsValue(true));\r\n    }\r\n    // 取消编辑\r\n    cancelEdit=()=>{\r\n        this.setState({edit: false});\r\n    }\r\n    // 刷新表格\r\n    tableReload = () => {\r\n        let params = this.formRef.current.getFieldValue();\r\n        this.tableRef.reload(params);\r\n        this.setState({ edit: false });\r\n    };\r\n    render() {\r\n        const columns = [\r\n            {\r\n                title: '通道名称',\r\n                dataIndex: 'channelName',\r\n                key: 'channelName',\r\n            },\r\n            {\r\n                title: '设备名称',\r\n                dataIndex: 'deviceName',\r\n                key: 'deviceName',\r\n            },\r\n            {\r\n                title: '标签名',\r\n                dataIndex: 'tagName',\r\n                key: 'tagName',\r\n            },\r\n            {\r\n                title: '数据类型',\r\n                dataIndex: 'dataType',\r\n                key: 'dataType',\r\n            },\r\n            {\r\n                title: '描述',\r\n                dataIndex: 'describe',\r\n                key: 'describe',\r\n            },\r\n            {\r\n                title: '操作',\r\n                width: '150px',\r\n                align: 'center',\r\n                render: (text,item)=>{\r\n                    return <>\r\n                        <Button type=\"link\" size=\"small\" onClick={this.addDevice.bind(this, item.id)} icon=\"edit\">修改</Button>\r\n                        {/* <Button type=\"link\" size=\"small\" onClick={this.createQRcode}><span className=\"iconfont icon-ico\"></span>二维码</Button> */}\r\n                        <Button type=\"link\" size=\"small\" onClick={this.del.bind(this, item.id)} danger icon=\"delete\">删除</Button>\r\n                    </>\r\n                }\r\n            },\r\n        ]\r\n        return (\r\n             <>\r\n                <Form layout=\"inline\" ref={this.formRef} onFinish={(values)=>{this.tableRef.reload(values)}} className=\"query-tools\">\r\n                    <Form.Item name=\"channelName\">\r\n                        <Input placeholder=\"通道名称\" />\r\n                    </Form.Item>\r\n                    <Form.Item name=\"deviceName\">\r\n                        <Input placeholder=\"设备名称\"/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"tagName\">\r\n                        <Input placeholder=\"标签名\"/>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\" icon=\"search\">搜索</Button>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button onClick={this.reset} icon=\"chongzhi\">重置</Button>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" onClick={this.addDevice} icon=\"add\">添加</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n                <Table onRef={ref => this.tableRef = ref} columns={columns} method=\"get\" url=\"api/device/deviceinfo/list\"/>\r\n                <Modal footer=\"\" title=\"设备二维码\" width=\"200px\" visible={this.state.showQRcode} onCancel={()=>{this.setState({showQRcode: false})}}>\r\n                    <img width=\"100%\" src={this.state.QRcodeImg} alt=\"设备码\"/>\r\n                </Modal>\r\n                {this.state.edit && <Edit id={this.state.id} onCancel={this.cancelEdit} onOk={this.tableReload} />}\r\n             </>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}