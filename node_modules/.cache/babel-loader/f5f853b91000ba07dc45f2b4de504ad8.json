{"ast":null,"code":"import \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport _classCallCheck from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\project\\\\environment-web\\\\src\\\\pages\\\\inventory\\\\goodsType\\\\components\\\\Edit.js\";\nimport React, { Component } from \"react\";\n\nvar Edit = /*#__PURE__*/function (_Component) {\n  _inherits(Edit, _Component);\n\n  function Edit() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Edit);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Edit)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.formRef = React.createRef();\n\n    _this.submit = function () {\n      var id = _this.props.id;\n\n      _this.formRef.current.validateFields().then(function (values) {\n        values.id = id;\n        values.number = React.enums.goodTypeCode;\n        var url = \"api/wmsType/tmaterialtype/save\";\n\n        if (id) {\n          url = \"api/wmsType/tmaterialtype/update\";\n        }\n\n        React.axios.post(url, values, function () {\n          React.message.success('操作成功');\n\n          _this.props.onOk();\n        });\n      }).catch();\n    };\n\n    return _this;\n  }\n\n  _createClass(Edit, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var id = this.props.id;\n\n      if (id) {\n        React.axios.get(\"api/wmsType/tmaterialtype/info/\" + id, \"\", function (res) {\n          _this2.formRef.current.setFieldsValue(res.data);\n        });\n      }\n\n      ;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var id = this.props.id;\n      return /*#__PURE__*/React.createElement(_Modal, {\n        title: id ? \"修改物料种类\" : \"添加物料种类\",\n        visible: true,\n        onOk: this.submit,\n        onCancel: this.props.onCancel,\n        maskClosable: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(_Form, {\n        labelCol: {\n          span: 3\n        },\n        ref: this.formRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"\\u540D\\u79F0\",\n        name: \"name\",\n        initialValue: \"\",\n        rules: [{\n          required: true,\n          message: \"种类名称不能为空\"\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(_Input, {\n        placeholder: \"\\u79CD\\u7C7B\\u540D\\u79F0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"\\u5907\\u6CE8\",\n        name: \"remark\",\n        initialValue: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(_Input.TextArea, {\n        placeholder: \"100\\u4E2A\\u5B57\\u4EE5\\u5185\",\n        maxLength: 100,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }\n      }))));\n    }\n  }]);\n\n  return Edit;\n}(Component);\n\n;\nexport default Edit;","map":{"version":3,"sources":["E:/project/environment-web/src/pages/inventory/goodsType/components/Edit.js"],"names":["React","Component","Edit","formRef","createRef","submit","id","props","current","validateFields","then","values","number","enums","goodTypeCode","url","axios","post","message","success","onOk","catch","get","res","setFieldsValue","data","onCancel","span","required"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;;IAGMC,I;;;;;;;;;;;;;;;UACFC,O,GAAUH,KAAK,CAACI,SAAN,E;;UAcVC,M,GAAS,YAAM;AAAA,UACJC,EADI,GACE,MAAKC,KADP,CACJD,EADI;;AAEX,YAAKH,OAAL,CAAaK,OAAb,CAAqBC,cAArB,GAAsCC,IAAtC,CAA2C,UAACC,MAAD,EAAY;AACnDA,QAAAA,MAAM,CAACL,EAAP,GAAYA,EAAZ;AACAK,QAAAA,MAAM,CAACC,MAAP,GAAgBZ,KAAK,CAACa,KAAN,CAAYC,YAA5B;AACA,YAAIC,GAAG,GAAG,gCAAV;;AACA,YAAGT,EAAH,EAAM;AACFS,UAAAA,GAAG,GAAG,kCAAN;AACH;;AACDf,QAAAA,KAAK,CAACgB,KAAN,CAAYC,IAAZ,CAAiBF,GAAjB,EAAqBJ,MAArB,EAA4B,YAAM;AAC9BX,UAAAA,KAAK,CAACkB,OAAN,CAAcC,OAAd,CAAsB,MAAtB;;AACA,gBAAKZ,KAAL,CAAWa,IAAX;AACH,SAHD;AAIH,OAXD,EAWGC,KAXH;AAYH,K;;;;;;;wCA1BkB;AAAA;;AAAA,UACRf,EADQ,GACF,KAAKC,KADH,CACRD,EADQ;;AAEf,UAAGA,EAAH,EAAM;AACFN,QAAAA,KAAK,CAACgB,KAAN,CAAYM,GAAZ,CAAgB,oCAAkChB,EAAlD,EAAqD,EAArD,EAAwD,UAAAiB,GAAG,EAAI;AAC3D,UAAA,MAAI,CAACpB,OAAL,CAAaK,OAAb,CAAqBgB,cAArB,CAAoCD,GAAG,CAACE,IAAxC;AACH,SAFD;AAGH;;AAAA;AACJ;;;6BAqBO;AAAA,UACGnB,EADH,GACS,KAAKC,KADd,CACGD,EADH;AAEJ,0BACI;AACI,QAAA,KAAK,EAAEA,EAAE,GAAI,QAAJ,GAAiB,QAD9B;AAEI,QAAA,OAAO,EAAE,IAFb;AAGI,QAAA,IAAI,EAAE,KAAKD,MAHf;AAII,QAAA,QAAQ,EAAE,KAAKE,KAAL,CAAWmB,QAJzB;AAKI,QAAA,YAAY,EAAE,KALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAOI;AACI,QAAA,QAAQ,EAAE;AAACC,UAAAA,IAAI,EAAC;AAAN,SADd;AAEI,QAAA,GAAG,EAAE,KAAKxB,OAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAII,0BAAM,IAAN;AACI,QAAA,KAAK,EAAC,cADV;AAEI,QAAA,IAAI,EAAC,MAFT;AAGI,QAAA,YAAY,EAAC,EAHjB;AAII,QAAA,KAAK,EAAE,CACH;AAACyB,UAAAA,QAAQ,EAAC,IAAV;AAAeV,UAAAA,OAAO,EAAC;AAAvB,SADG,CAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAQI;AAAO,QAAA,WAAW,EAAC,0BAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARJ,CAJJ,eAcI,0BAAM,IAAN;AACI,QAAA,KAAK,EAAC,cADV;AAEI,QAAA,IAAI,EAAC,QAFT;AAGI,QAAA,YAAY,EAAC,EAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKI,2BAAO,QAAP;AAAgB,QAAA,WAAW,EAAC,6BAA5B;AAAsC,QAAA,SAAS,EAAE,GAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,CAdJ,CAPJ,CADJ;AAgCH;;;;EAjEcjB,S;;AAkElB;AACD,eAAeC,IAAf","sourcesContent":["import React,{Component} from \"react\";\r\nimport {Modal,Form,Input} from \"antd\";\r\n\r\nclass Edit extends Component{\r\n    formRef = React.createRef();\r\n\r\n    componentDidMount(){\r\n        const {id} = this.props;\r\n        if(id){\r\n            React.axios.get(\"api/wmsType/tmaterialtype/info/\"+id,\"\",res => {\r\n                this.formRef.current.setFieldsValue(res.data);\r\n            });\r\n        };\r\n    };\r\n\r\n    /**\r\n     * @todo 提交表单\r\n     */\r\n    submit = () => {\r\n        const {id} = this.props;\r\n        this.formRef.current.validateFields().then((values) => {\r\n            values.id = id;\r\n            values.number = React.enums.goodTypeCode;\r\n            let url = \"api/wmsType/tmaterialtype/save\";\r\n            if(id){\r\n                url = \"api/wmsType/tmaterialtype/update\";\r\n            }\r\n            React.axios.post(url,values,() => {\r\n                React.message.success('操作成功');\r\n                this.props.onOk();\r\n            });\r\n        }).catch();\r\n    };\r\n\r\n    render(){\r\n        const {id} = this.props;\r\n        return(\r\n            <Modal\r\n                title={id ? (\"修改物料种类\") : (\"添加物料种类\")}\r\n                visible={true}\r\n                onOk={this.submit}\r\n                onCancel={this.props.onCancel}\r\n                maskClosable={false}\r\n            >\r\n                <Form\r\n                    labelCol={{span:3}}\r\n                    ref={this.formRef}\r\n                >\r\n                    <Form.Item\r\n                        label=\"名称\"\r\n                        name=\"name\"\r\n                        initialValue=\"\"\r\n                        rules={[\r\n                            {required:true,message:\"种类名称不能为空\"}\r\n                        ]}\r\n                    >\r\n                        <Input placeholder=\"种类名称\"/>\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        label=\"备注\"\r\n                        name=\"remark\"\r\n                        initialValue=\"\"\r\n                    >\r\n                        <Input.TextArea placeholder=\"100个字以内\" maxLength={100}/>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Modal>\r\n        );\r\n    };\r\n};\r\nexport default Edit;"]},"metadata":{},"sourceType":"module"}