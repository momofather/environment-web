{"ast":null,"code":"import _classCallCheck from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\project\\\\environment-web\\\\src\\\\pages\\\\system\\\\dictionary\\\\unit\\\\List.js\";\nimport React, { Component } from 'react';\nimport Table from '@/components/table';\nimport Button from '@/components/button';\nimport Edit from './Edit';\n\nvar List = /*#__PURE__*/function (_Component) {\n  _inherits(List, _Component);\n\n  function List(props) {\n    var _this;\n\n    _classCallCheck(this, List);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(List).call(this, props));\n\n    _this.edit = function (id) {\n      _this.setState({\n        eidtDialog: true,\n        id: id\n      });\n    };\n\n    _this.getList = function () {\n      _this.setState({\n        eidtDialog: false\n      });\n\n      React.axios.post('api/wmsType/tmaterialtype/queryMaterialTypeList?number=unit', null, function (res) {\n        _this.setState({\n          data: res.data\n        });\n      });\n    };\n\n    _this.del = function (id) {\n      React.message.confirm('确定删除该数据？', function () {\n        React.axios.post('api/wmsType/tmaterialtype/delete', [id], function () {\n          React.message.success('删除成功');\n\n          _this.getList();\n        });\n      });\n    };\n\n    _this.state = {\n      eidtDialog: false,\n      data: [],\n      id: null\n    };\n    return _this;\n  } // 添加、编辑\n\n\n  _createClass(List, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getList();\n    } // 获取数据\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var columns = [{\n        title: '名称',\n        dataIndex: 'name',\n        key: 'name'\n      }, {\n        title: '备注',\n        dataIndex: 'remark',\n        key: 'remark'\n      }, {\n        title: '创建时间',\n        dataIndex: 'createTime',\n        key: 'createTime'\n      }, {\n        title: '操作',\n        align: 'center',\n        width: '150px',\n        render: function render(res) {\n          return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n            type: \"link\",\n            size: \"small\",\n            onClick: _this2.edit.bind(_this2, res.id),\n            authcode: \"sys:role:update\",\n            icon: \"edit\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 21\n            }\n          }, \"\\u4FEE\\u6539\"), /*#__PURE__*/React.createElement(Button, {\n            type: \"link\",\n            danger: true,\n            size: \"small\",\n            onClick: _this2.del.bind(_this2, res.id),\n            authcode: \"sys:role:delete\",\n            icon: \"delete\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 21\n            }\n          }, \"\\u5220\\u9664\"));\n        }\n      }];\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n        icon: \"add\",\n        type: \"primary\",\n        className: \"query-tools\",\n        onClick: this.edit.bind(this, null),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      }, \"\\u6DFB\\u52A0\"), /*#__PURE__*/React.createElement(Table, {\n        columns: columns,\n        data: this.state.data,\n        pager: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }), this.state.eidtDialog && /*#__PURE__*/React.createElement(Edit, {\n        id: this.state.id,\n        onCancel: function onCancel() {\n          _this2.setState({\n            eidtDialog: false\n          });\n        },\n        onOk: this.getList,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 41\n        }\n      }));\n    }\n  }]);\n\n  return List;\n}(Component);\n\nexport default List;","map":{"version":3,"sources":["E:/project/environment-web/src/pages/system/dictionary/unit/List.js"],"names":["React","Component","Table","Button","Edit","List","props","edit","id","setState","eidtDialog","getList","axios","post","res","data","del","message","confirm","success","state","columns","title","dataIndex","key","align","width","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Table from '@/components/table';\r\nimport Button from '@/components/button';\r\nimport Edit from './Edit';\r\nclass List extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            eidtDialog: false,\r\n            data: [],\r\n            id: null\r\n        }\r\n    }\r\n    // 添加、编辑\r\n    edit=(id)=>{\r\n        this.setState({\r\n            eidtDialog: true,\r\n            id: id\r\n        });\r\n    }\r\n    componentDidMount(){\r\n        this.getList();\r\n    }\r\n    // 获取数据\r\n    getList=()=>{\r\n        this.setState({eidtDialog:false});\r\n        React.axios.post('api/wmsType/tmaterialtype/queryMaterialTypeList?number=unit',null,res=>{\r\n            this.setState({data: res.data});\r\n        })\r\n    }\r\n    // 删除\r\n    del=(id)=>{\r\n        React.message.confirm('确定删除该数据？',()=>{\r\n            React.axios.post('api/wmsType/tmaterialtype/delete',[id],()=>{\r\n                React.message.success('删除成功');\r\n                this.getList();\r\n            })\r\n        })\r\n    }\r\n    render() {\r\n        const columns = [\r\n            {\r\n                title: '名称',\r\n                dataIndex: 'name',\r\n                key: 'name',\r\n            },\r\n            {\r\n                title: '备注',\r\n                dataIndex: 'remark',\r\n                key: 'remark',\r\n            },\r\n            {\r\n                title: '创建时间',\r\n                dataIndex: 'createTime',\r\n                key: 'createTime',\r\n            },\r\n            {\r\n                title: '操作',\r\n                align: 'center',\r\n                width: '150px',\r\n                render: (res)=><>\r\n                    <Button type=\"link\" size=\"small\" onClick={this.edit.bind(this,res.id)} authcode=\"sys:role:update\" icon=\"edit\">修改</Button>\r\n                    <Button type=\"link\" danger size=\"small\" onClick={this.del.bind(this,res.id)} authcode=\"sys:role:delete\" icon=\"delete\">删除</Button>\r\n                </>\r\n            }\r\n        ]\r\n        return (\r\n            <>\r\n                <Button icon=\"add\" type=\"primary\" className=\"query-tools\" onClick={this.edit.bind(this,null)}>添加</Button>\r\n                <Table columns={columns} data={this.state.data} pager={false} />\r\n                {this.state.eidtDialog&&<Edit id={this.state.id} onCancel={()=>{this.setState({eidtDialog:false})}} onOk={this.getList}/>}\r\n            </>\r\n        );\r\n    }\r\n}\r\nexport default List;"]},"metadata":{},"sourceType":"module"}