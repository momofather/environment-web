{"ast":null,"code":"import \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/breadcrumb/style\";\nimport _Breadcrumb from \"antd/es/breadcrumb\";\nimport _classCallCheck from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\project\\\\environment-web\\\\src\\\\pages\\\\inventory\\\\warehouseLocation\\\\List.js\";\nimport React, { Component } from \"react\";\nimport Button from \"@/components/button\";\nimport Table from \"@/components/table\";\nimport Edit from \"./components/Edit\";\nimport Detail from \"./components/Detail\";\nimport { Link } from \"react-router-dom\";\n\nvar List = /*#__PURE__*/function (_Component) {\n  _inherits(List, _Component);\n\n  function List(props) {\n    var _this;\n\n    _classCallCheck(this, List);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(List).call(this, props));\n    _this.formRef = React.createRef();\n\n    _this.getWareHouseInfo = function () {\n      React.axios.get(\"api/wms/twarehouse/info/\".concat(_this.props.match.params.id), {}, function (res) {\n        _this.setState({\n          wareHourse: res.data\n        });\n      });\n    };\n\n    _this.tableReload = function () {\n      var params = _this.state.params;\n\n      _this.tableRef.reload(params);\n    };\n\n    _this.submit = function (values) {\n      _this.setState({\n        params: values\n      });\n\n      _this.tableReload();\n    };\n\n    _this.reset = function () {\n      _this.formRef.current.resetFields();\n\n      _this.tableRef.reload(_this.formRef.current.getFieldsValue(true));\n    };\n\n    _this.openEdit = function (editId) {\n      _this.setState({\n        editVisible: true,\n        editId: editId\n      });\n    };\n\n    _this.closeEdit = function () {\n      _this.setState({\n        editVisible: false,\n        eidtId: \"\"\n      });\n    };\n\n    _this.openDetail = function (detailId) {\n      _this.setState({\n        detailVisible: true,\n        detailId: detailId\n      });\n    };\n\n    _this.closeDetail = function () {\n      _this.setState({\n        detailVisible: false,\n        detailUserId: \"\"\n      });\n    };\n\n    _this.openChangeGoods = function (goodsId, way) {\n      _this.setState({\n        changeGoodsVisible: true,\n        goodsId: goodsId,\n        way: way\n      });\n    };\n\n    _this.closeChangeGoods = function () {\n      _this.setState({\n        changeGoodsVisible: false,\n        goodsId: \"\",\n        way: \"\"\n      });\n    };\n\n    _this.delete = function (record) {\n      React.message.confirm(\"您确定想要删除此条数据？\", function () {\n        React.axios.post(\"api/wms/twarehouselocation/delete?id=\".concat(record.id, \"&locationNumber=\").concat(record.number), null, function () {\n          _this.tableReload();\n        });\n      });\n    };\n\n    _this.state = {\n      wareHourse: {},\n      eidtId: \"\",\n      eidtVisible: false,\n      detailId: \"\",\n      detailVisible: false,\n      goodsId: \"\",\n      way: \"\",\n      changeGoodsVisible: false,\n      params: {\n        name: \"\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(List, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getWareHouseInfo();\n    } // 查询仓库信息\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          editId = _this$state.editId,\n          editVisible = _this$state.editVisible,\n          detailId = _this$state.detailId,\n          detailVisible = _this$state.detailVisible;\n      var tableColumns = [{\n        title: \"区域名称\",\n        render: function render(text, record) {\n          return /*#__PURE__*/React.createElement(Link, {\n            to: \"/\".concat(React.Version, \"/inventory/warehouseShelves/list/\").concat(_this2.props.match.params.id, \"/\").concat(record.id),\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 41\n            }\n          }, record.name);\n        }\n      }, {\n        title: \"编号\",\n        key: \"number\",\n        dataIndex: \"number\"\n      }, {\n        title: \"所在仓库\",\n        key: \"houseName\",\n        dataIndex: \"houseName\"\n      }, {\n        title: \"备注\",\n        key: \"remark\",\n        dataIndex: \"remark\"\n      }, {\n        title: \"操作\",\n        width: \"200px\",\n        align: 'center',\n        render: function render(text, record) {\n          return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n            type: \"link\",\n            size: \"small\",\n            onClick: _this2.openDetail.bind(_this2, record.id),\n            authcode: \"inventory:warehouseLocation:info\",\n            icon: \"info\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }\n          }, \"\\u8BE6\\u60C5\"), /*#__PURE__*/React.createElement(Button, {\n            type: \"link\",\n            size: \"small\",\n            onClick: _this2.openEdit.bind(_this2, record.id),\n            authcode: \"inventory:warehouseLocation:update\",\n            icon: \"edit\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }\n          }, \"\\u4FEE\\u6539\"), /*#__PURE__*/React.createElement(Button, {\n            type: \"link\",\n            size: \"small\",\n            onClick: _this2.delete.bind(_this2, record),\n            authcode: \"inventory:warehouseLocation:delete\",\n            danger: true,\n            icon: \"delete\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }\n          }, \"\\u5220\\u9664\"));\n        }\n      }];\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Breadcrumb, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/\".concat(React.Version, \"/inventory/warehouse/list\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }\n      }, \"\\u4ED3\\u5E93\\u7BA1\\u7406\")), /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }\n      }, this.state.wareHourse.name)), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 30\n        }\n      }), /*#__PURE__*/React.createElement(_Form, {\n        layout: \"inline\",\n        className: \"query-tools\",\n        onFinish: this.submit,\n        onReset: this.reset,\n        ref: this.formRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        name: \"name\",\n        initialValue: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(_Input, {\n        placeholder: \"\\u533A\\u57DF\\u540D\\u79F0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        icon: \"search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }\n      }, \"\\u641C\\u7D22\")), /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        htmlType: \"reset\",\n        icon: \"chongzhi\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 25\n        }\n      }, \"\\u91CD\\u7F6E\")), /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        onClick: this.openEdit.bind(this, \"\"),\n        authcode: \"inventory:warehouseLocation:save\",\n        icon: \"add\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }\n      }, \"\\u65B0\\u589E\")), /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          _this2.props.history.goBack();\n        },\n        icon: \"back\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 25\n        }\n      }, \"\\u8FD4\\u56DE\"))), this.state.wareHourse.number && /*#__PURE__*/React.createElement(Table, {\n        rowKey: \"id\",\n        onRef: function onRef(ref) {\n          return _this2.tableRef = ref;\n        },\n        columns: tableColumns,\n        method: \"get\",\n        url: \"api/wms/twarehouselocation/list?houseNumber=\".concat(this.state.wareHourse.number),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 48\n        }\n      }), editVisible && /*#__PURE__*/React.createElement(Edit, {\n        id: editId,\n        wareHourseHumber: this.state.wareHourse.number,\n        close: this.closeEdit,\n        tableReload: this.tableReload,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 33\n        }\n      }), detailVisible && /*#__PURE__*/React.createElement(Detail, {\n        id: detailId,\n        close: this.closeDetail,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 35\n        }\n      }));\n    }\n  }]);\n\n  return List;\n}(Component);\n\n;\nexport default List;","map":{"version":3,"sources":["E:/project/environment-web/src/pages/inventory/warehouseLocation/List.js"],"names":["React","Component","Button","Table","Edit","Detail","Link","List","props","formRef","createRef","getWareHouseInfo","axios","get","match","params","id","res","setState","wareHourse","data","tableReload","state","tableRef","reload","submit","values","reset","current","resetFields","getFieldsValue","openEdit","editId","editVisible","closeEdit","eidtId","openDetail","detailId","detailVisible","closeDetail","detailUserId","openChangeGoods","goodsId","way","changeGoodsVisible","closeChangeGoods","delete","record","message","confirm","post","number","eidtVisible","name","tableColumns","title","render","text","Version","key","dataIndex","width","align","bind","history","goBack","ref"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\";\r\nimport {Form,Input,Breadcrumb} from \"antd\";\r\nimport Button from \"@/components/button\";\r\nimport Table from \"@/components/table\";\r\n\r\nimport Edit from \"./components/Edit\";\r\nimport Detail from \"./components/Detail\";\r\n\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass List extends Component{\r\n    formRef = React.createRef();\r\n    constructor(props){\r\n        super(props);\r\n        this.state= {\r\n            wareHourse: {},\r\n            eidtId:\"\",\r\n            eidtVisible:false,\r\n            detailId:\"\",\r\n            detailVisible:false,\r\n            goodsId:\"\",\r\n            way:\"\",\r\n            changeGoodsVisible:false,\r\n            params:{name:\"\"},\r\n        };\r\n    };\r\n\r\n    componentDidMount(){\r\n        this.getWareHouseInfo();\r\n    }\r\n\r\n    // 查询仓库信息\r\n    getWareHouseInfo=()=>{\r\n        React.axios.get(`api/wms/twarehouse/info/${this.props.match.params.id}`,{},res=>{\r\n            this.setState({wareHourse: res.data});\r\n        })\r\n    }\r\n\r\n    /**\r\n     * @todo 搜索与刷新\r\n     */\r\n    tableReload = () => {\r\n        const {params} = this.state;\r\n        this.tableRef.reload(params);\r\n    };\r\n\r\n    /**\r\n     * @todo 搜索\r\n     */\r\n    submit = (values) => {\r\n        this.setState({params:values});\r\n        this.tableReload();\r\n    };\r\n    /**\r\n     * @todo 重置搜索\r\n     */\r\n    reset = () => {\r\n        this.formRef.current.resetFields();\r\n        this.tableRef.reload(this.formRef.current.getFieldsValue(true));\r\n    };\r\n\r\n    /**\r\n     * @todo 打开编辑\r\n     * @param eidtId\r\n     */\r\n    openEdit = (editId) => {\r\n        this.setState({editVisible:true,editId});\r\n    };\r\n    /**\r\n     * @todo 关闭编辑\r\n     */\r\n    closeEdit = () => {\r\n        this.setState({editVisible:false,eidtId:\"\"});\r\n    };\r\n\r\n    /**\r\n     * @todo 打开详情\r\n     * @param {string} detailUserId\r\n     */\r\n    openDetail = (detailId) => {\r\n        this.setState({detailVisible:true,detailId});\r\n    };\r\n    /**\r\n     * @todo 关闭详情\r\n     */\r\n    closeDetail = () => {\r\n        this.setState({detailVisible:false,detailUserId:\"\"});\r\n    };\r\n\r\n    /**\r\n     * @todo 打开出库入库\r\n     * @param goodsId\r\n     * @param way\r\n     */\r\n    openChangeGoods = (goodsId,way) => {\r\n        this.setState({changeGoodsVisible:true,goodsId,way});\r\n    };\r\n    /**\r\n     * @todo 关闭出库入库\r\n     */\r\n    closeChangeGoods = () => {\r\n        this.setState({changeGoodsVisible:false,goodsId:\"\",way:\"\"});\r\n    };\r\n\r\n    /**\r\n     * @todo 删除用户\r\n     * @param {string} userId\r\n     */\r\n    delete = (record) => {\r\n        React.message.confirm(\r\n            \"您确定想要删除此条数据？\",\r\n            () => {\r\n                React.axios.post(`api/wms/twarehouselocation/delete?id=${record.id}&locationNumber=${record.number}`,null,() => {\r\n                    this.tableReload();\r\n                });\r\n            }\r\n        );\r\n    };\r\n\r\n\r\n    render(){\r\n        const {editId,editVisible,detailId,detailVisible} = this.state;\r\n\r\n        const tableColumns = [\r\n            {\r\n                title:\"区域名称\",\r\n                render:(text,record) => <Link to={`/${React.Version}/inventory/warehouseShelves/list/${this.props.match.params.id}/${record.id}`}>{record.name}</Link>\r\n            },\r\n            {\r\n                title:\"编号\",\r\n                key:\"number\",\r\n                dataIndex:\"number\",\r\n            },\r\n            {\r\n                title:\"所在仓库\",\r\n                key:\"houseName\",\r\n                dataIndex:\"houseName\",\r\n            },\r\n            {\r\n                title:\"备注\",\r\n                key:\"remark\",\r\n                dataIndex:\"remark\",\r\n            },\r\n            {\r\n                title:\"操作\",\r\n                width:\"200px\",\r\n                align: 'center',\r\n                render:(text,record) => {\r\n                    return(\r\n                        <>\r\n                            <Button type=\"link\" size=\"small\" onClick={this.openDetail.bind(this,record.id)} authcode=\"inventory:warehouseLocation:info\" icon=\"info\">详情</Button>\r\n                            <Button type=\"link\" size=\"small\" onClick={this.openEdit.bind(this,record.id)} authcode=\"inventory:warehouseLocation:update\" icon=\"edit\">修改</Button>\r\n                            <Button type=\"link\" size=\"small\" onClick={this.delete.bind(this,record)} authcode=\"inventory:warehouseLocation:delete\" danger icon=\"delete\">删除</Button>\r\n                        </>\r\n                    );\r\n                },\r\n            },\r\n        ];\r\n\r\n        return(\r\n            <>\r\n                <Breadcrumb>\r\n                    <Breadcrumb.Item>\r\n                        <Link to={`/${React.Version}/inventory/warehouse/list`}>仓库管理</Link>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>\r\n                        {this.state.wareHourse.name}\r\n                    </Breadcrumb.Item>\r\n                </Breadcrumb><br/>\r\n                <Form\r\n                    layout=\"inline\"\r\n                    className=\"query-tools\"\r\n                    onFinish={this.submit}\r\n                    onReset={this.reset}\r\n                    ref={this.formRef}\r\n                >\r\n                    <Form.Item\r\n                        name=\"name\"\r\n                        initialValue=\"\"\r\n                    >\r\n                        <Input placeholder=\"区域名称\"/>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\" icon=\"search\">搜索</Button>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button htmlType=\"reset\" icon=\"chongzhi\">重置</Button>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" onClick={this.openEdit.bind(this,\"\")} authcode=\"inventory:warehouseLocation:save\" icon=\"add\">新增</Button>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button onClick={()=>{this.props.history.goBack()}} icon=\"back\">返回</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n                {this.state.wareHourse.number&&<Table\r\n                    rowKey=\"id\"\r\n                    onRef={ref=>this.tableRef = ref}\r\n                    columns={tableColumns}\r\n                    method=\"get\"\r\n                    url={`api/wms/twarehouselocation/list?houseNumber=${this.state.wareHourse.number}`}\r\n                />}\r\n                \r\n                {editVisible && <Edit id={editId} wareHourseHumber={this.state.wareHourse.number} close={this.closeEdit} tableReload={this.tableReload}/>}\r\n                {detailVisible && <Detail id={detailId} close={this.closeDetail}/>}\r\n            </>\r\n        );\r\n    };\r\n};\r\nexport default List;"]},"metadata":{},"sourceType":"module"}