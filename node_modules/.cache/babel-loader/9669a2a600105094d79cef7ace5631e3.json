{"ast":null,"code":"import \"antd/es/tabs/style\";\nimport _Tabs from \"antd/es/tabs\";\nimport \"antd/es/descriptions/style\";\nimport _Descriptions from \"antd/es/descriptions\";\nimport \"antd/es/breadcrumb/style\";\nimport _Breadcrumb from \"antd/es/breadcrumb\";\nimport _classCallCheck from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\project\\\\environment-web\\\\src\\\\pages\\\\inventory\\\\inventory\\\\Detail.js\";\nimport React, { Component } from \"react\";\nimport Button from \"@/components/button\";\nimport Table from \"@/components/table\";\n\nvar Detail = /*#__PURE__*/function (_Component) {\n  _inherits(Detail, _Component);\n\n  function Detail(props) {\n    var _this;\n\n    _classCallCheck(this, Detail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Detail).call(this, props));\n\n    _this.getUnitList = function () {\n      React.axios.post('api/wmsType/tmaterialtype/queryMaterialTypeList?number=unit', null, function (res) {\n        var obj = {};\n        res.data.forEach(function (item) {\n          obj[item.id] = item.name;\n        });\n\n        _this.setState({\n          units: obj\n        });\n      });\n    };\n\n    _this.changeTabs = function (e) {\n      var info = _this.state.info;\n      React.axios.post(\"api/wms/twarehousestock/getRecords?type=\".concat(e, \"&number=\").concat(info.number, \"&houseNumber=\").concat(info.houseNumber, \"&locationNumber=\").concat(info.locationNumber, \"&shelvesNumber=\").concat(info.shelvesNumber), null, function (res) {\n        _this.setState({\n          recordList: res.data\n        });\n      });\n    };\n\n    _this.state = {\n      info: {},\n      recordList: [],\n      units: {}\n    };\n    return _this;\n  }\n\n  _createClass(Detail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.getUnitList();\n      new Promise(function (reslove, reject) {\n        React.axios.get(\"api/wms/twarehousestock/info/\" + _this2.props.match.params.id, null, function (res) {\n          _this2.setState({\n            info: res.data\n          });\n\n          reslove(res.data);\n        });\n      }).then(function (info) {\n        React.axios.post(\"api/wms/twarehousestock/getRecords?type=2&number=\".concat(info.number, \"&houseNumber=\").concat(info.houseNumber, \"&locationNumber=\").concat(info.locationNumber, \"&shelvesNumber=\").concat(info.shelvesNumber), null, function (res) {\n          _this2.setState({\n            recordList: res.data\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var info = this.state.info;\n      var inTableColumns = [//入库列表\n      {\n        title: \"入库编号\",\n        key: \"number\",\n        dataIndex: \"number\",\n        width: \"200px\",\n        align: 'center'\n      }, {\n        title: \"入库数量\",\n        key: \"num\",\n        dataIndex: \"num\",\n        align: 'center'\n      }, {\n        title: \"金额\",\n        key: \"totalprice\",\n        dataIndex: \"totalprice\",\n        align: 'center'\n      }, {\n        title: \"入库日期\",\n        key: \"housedate\",\n        dataIndex: \"housedate\",\n        width: \"200px\",\n        align: 'center'\n      }, {\n        title: \"经手人\",\n        key: \"username\",\n        dataIndex: \"username\",\n        align: 'center'\n      }];\n      var outTableColumns = [{\n        title: \"出库编号\",\n        key: \"number\",\n        dataIndex: \"number\",\n        width: \"200px\",\n        align: 'center'\n      }, {\n        title: \"出库数量\",\n        key: \"num\",\n        dataIndex: \"num\"\n      }, {\n        title: \"金额\",\n        key: \"totalprice\",\n        dataIndex: \"totalprice\"\n      }, {\n        title: \"出库日期\",\n        key: \"housedate\",\n        dataIndex: \"housedate\",\n        width: \"200px\",\n        align: 'center'\n      }, {\n        title: \"经手人\",\n        key: \"username\",\n        dataIndex: \"username\",\n        align: 'center'\n      }];\n      var moveTableColumns = [{\n        title: \"单据编号\",\n        key: \"number\",\n        dataIndex: \"number\",\n        width: '200px',\n        align: 'center'\n      }, {\n        title: \"出库位置\",\n        render: function render(txt, res) {\n          return /*#__PURE__*/React.createElement(_Breadcrumb, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 38\n            }\n          }, /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 21\n            }\n          }, res.houseName), /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 21\n            }\n          }, res.locationName), /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 21\n            }\n          }, res.shelvesName));\n        }\n      }, {\n        title: \"入库位置\",\n        render: function render(txt, res) {\n          return /*#__PURE__*/React.createElement(_Breadcrumb, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 38\n            }\n          }, /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 21\n            }\n          }, res.thouseName), /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 21\n            }\n          }, res.tlocationName), /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 21\n            }\n          }, res.tshelvesName));\n        }\n      }, {\n        title: \"数量\",\n        key: \"num\",\n        dataIndex: \"num\",\n        align: 'center',\n        width: \"100px\"\n      }, {\n        title: \"经手人\",\n        key: \"username\",\n        dataIndex: \"username\",\n        align: 'center',\n        width: \"100px\"\n      }, {\n        title: \"调拨日期\",\n        key: \"housedate\",\n        dataIndex: \"housedate\",\n        align: 'center',\n        width: \"100px\"\n      }, {\n        title: \"备注\",\n        key: \"remark\",\n        dataIndex: \"remark\"\n      }];\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Descriptions, {\n        title: \"\\u7269\\u6599\\u4FE1\\u606F\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(_Descriptions.Item, {\n        label: \"\\u7269\\u6599\\u540D\\u79F0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }\n      }, info.name), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n        label: \"\\u7F16\\u53F7\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }\n      }, info.number), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n        label: \"\\u7269\\u6599\\u79CD\\u7C7B\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }\n      }, info.gname), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n        label: \"\\u6240\\u5728\\u4F4D\\u7F6E\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }\n      }, info.houseName), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n        label: \"\\u5E93\\u5B58\\u6570\\u91CF\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }\n      }, info.num, \"\\uFF08\", this.state.units[info.unit], \"\\uFF09\"), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n        label: \"\\u5355\\u4EF7\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }\n      }, info.price, \"\\uFF08\\u5143\\uFF09\")), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 32\n        }\n      }), /*#__PURE__*/React.createElement(_Descriptions, {\n        title: \"\\u64CD\\u4F5C\\u4FE1\\u606F\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(_Descriptions.Item, {\n        span: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(_Tabs, {\n        defaultActiveKey: \"2\",\n        style: {\n          width: \"100%\"\n        },\n        onChange: this.changeTabs,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(_Tabs.TabPane, {\n        tab: \"\\u5165\\u5E93\\u8BB0\\u5F55\",\n        key: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        rowKey: \"id\",\n        onRef: function onRef(ref) {\n          return _this3.tableRef = ref;\n        },\n        columns: inTableColumns,\n        data: this.state.recordList,\n        number: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(_Tabs.TabPane, {\n        tab: \"\\u51FA\\u5E93\\u8BB0\\u5F55\",\n        key: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        rowKey: \"id\",\n        onRef: function onRef(ref) {\n          return _this3.tableRef = ref;\n        },\n        columns: outTableColumns,\n        data: this.state.recordList,\n        number: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(_Tabs.TabPane, {\n        tab: \"\\u8C03\\u62E8\\u8BB0\\u5F55\",\n        key: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        rowKey: \"id\",\n        onRef: function onRef(ref) {\n          return _this3.tableRef = ref;\n        },\n        columns: moveTableColumns,\n        data: this.state.recordList,\n        number: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 33\n        }\n      }))))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 32\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          _this3.props.history.goBack();\n        },\n        icon: \"back\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }\n      }, \"\\u8FD4\\u56DE\")));\n    }\n  }]);\n\n  return Detail;\n}(Component);\n\n;\nexport default Detail;","map":{"version":3,"sources":["E:/project/environment-web/src/pages/inventory/inventory/Detail.js"],"names":["React","Component","Button","Table","Detail","props","getUnitList","axios","post","res","obj","data","forEach","item","id","name","setState","units","changeTabs","e","info","state","number","houseNumber","locationNumber","shelvesNumber","recordList","Promise","reslove","reject","get","match","params","then","inTableColumns","title","key","dataIndex","width","align","outTableColumns","moveTableColumns","render","txt","houseName","locationName","shelvesName","thouseName","tlocationName","tshelvesName","gname","num","unit","price","ref","tableRef","history","goBack"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\";\r\nimport {Descriptions,Tabs,Breadcrumb} from \"antd\";\r\nimport Button from \"@/components/button\";\r\nimport Table from \"@/components/table\";\r\n\r\nclass Detail extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state= {\r\n            info:{},\r\n            recordList:[],\r\n            units: {}\r\n        };\r\n    };\r\n\r\n    componentDidMount(){\r\n        this.getUnitList();\r\n        new Promise((reslove,reject) => {\r\n            React.axios.get(\"api/wms/twarehousestock/info/\"+this.props.match.params.id,null,res => {\r\n                this.setState({info:res.data});\r\n                reslove(res.data);\r\n            });\r\n        }).then((info) => {\r\n            React.axios.post(`api/wms/twarehousestock/getRecords?type=2&number=${info.number}&houseNumber=${info.houseNumber}&locationNumber=${info.locationNumber}&shelvesNumber=${info.shelvesNumber}`,null,res => {\r\n                this.setState({recordList:res.data});\r\n            });\r\n        });\r\n    };\r\n\r\n    // 获取计量单位\r\n    getUnitList=()=>{\r\n        React.axios.post('api/wmsType/tmaterialtype/queryMaterialTypeList?number=unit',null,res=>{\r\n            let obj = {};\r\n            res.data.forEach(item=>{\r\n                obj[item.id] = item.name;\r\n            })\r\n            this.setState({units: obj});\r\n        })\r\n    }\r\n\r\n    /**\r\n     * @todo 改变tabs\r\n     */\r\n    changeTabs = (e) => {\r\n        const {info} = this.state;\r\n        React.axios.post(`api/wms/twarehousestock/getRecords?type=${e}&number=${info.number}&houseNumber=${info.houseNumber}&locationNumber=${info.locationNumber}&shelvesNumber=${info.shelvesNumber}`,null,res => {\r\n            this.setState({recordList:res.data});\r\n        });\r\n    };\r\n\r\n    render(){\r\n        const {info} = this.state;\r\n\r\n        const inTableColumns = [ //入库列表\r\n            {\r\n                title:\"入库编号\",\r\n                key:\"number\",\r\n                dataIndex:\"number\",\r\n                width:\"200px\",\r\n                align: 'center',\r\n            },\r\n            {\r\n                title:\"入库数量\",\r\n                key:\"num\",\r\n                dataIndex:\"num\",\r\n                align: 'center',\r\n            },\r\n            {\r\n                title:\"金额\",\r\n                key:\"totalprice\",\r\n                dataIndex:\"totalprice\",\r\n                align: 'center',\r\n            },\r\n            {\r\n                title:\"入库日期\",\r\n                key:\"housedate\",\r\n                dataIndex:\"housedate\",\r\n                width:\"200px\",\r\n                align: 'center',\r\n            },\r\n            {\r\n                title:\"经手人\",\r\n                key:\"username\",\r\n                dataIndex:\"username\",\r\n                align: 'center',\r\n            },\r\n        ];\r\n\r\n        const outTableColumns = [\r\n            {\r\n                title:\"出库编号\",\r\n                key:\"number\",\r\n                dataIndex:\"number\",\r\n                width:\"200px\",\r\n                align: 'center',\r\n            },\r\n            {\r\n                title:\"出库数量\",\r\n                key:\"num\",\r\n                dataIndex:\"num\",\r\n            },\r\n            {\r\n                title:\"金额\",\r\n                key:\"totalprice\",\r\n                dataIndex:\"totalprice\",\r\n            },\r\n            {\r\n                title:\"出库日期\",\r\n                key:\"housedate\",\r\n                dataIndex:\"housedate\",\r\n                width:\"200px\",\r\n                align: 'center',\r\n            },\r\n            {\r\n                title:\"经手人\",\r\n                key:\"username\",\r\n                dataIndex:\"username\",\r\n                align: 'center',\r\n            }\r\n        ];\r\n\r\n        const moveTableColumns = [\r\n            {\r\n                title:\"单据编号\",\r\n                key:\"number\",\r\n                dataIndex:\"number\",\r\n                width: '200px',\r\n                align: 'center',\r\n            },\r\n            {\r\n                title:\"出库位置\",\r\n                render: (txt,res) => <Breadcrumb>\r\n                    <Breadcrumb.Item>{res.houseName}</Breadcrumb.Item>\r\n                    <Breadcrumb.Item>{res.locationName}</Breadcrumb.Item>\r\n                    <Breadcrumb.Item>{res.shelvesName}</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n            },\r\n            {\r\n                title:\"入库位置\",\r\n                render: (txt,res) => <Breadcrumb>\r\n                    <Breadcrumb.Item>{res.thouseName}</Breadcrumb.Item>\r\n                    <Breadcrumb.Item>{res.tlocationName}</Breadcrumb.Item>\r\n                    <Breadcrumb.Item>{res.tshelvesName}</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n            },\r\n            {\r\n                title:\"数量\",\r\n                key:\"num\",\r\n                dataIndex:\"num\",\r\n                align: 'center',\r\n                width:\"100px\",\r\n            },\r\n            {\r\n                title:\"经手人\",\r\n                key:\"username\",\r\n                dataIndex:\"username\",\r\n                align: 'center',\r\n                width:\"100px\",\r\n            },\r\n            {\r\n                title:\"调拨日期\",\r\n                key:\"housedate\",\r\n                dataIndex:\"housedate\",\r\n                align: 'center',\r\n                width:\"100px\",\r\n            },\r\n            {\r\n                title:\"备注\",\r\n                key:\"remark\",\r\n                dataIndex:\"remark\",\r\n            }\r\n        ];\r\n\r\n        return(\r\n            <>\r\n                <Descriptions\r\n                    title=\"物料信息\"\r\n                >\r\n                    <Descriptions.Item label=\"物料名称\">{info.name}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"编号\">{info.number}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"物料种类\">{info.gname}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"所在位置\">{info.houseName}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"库存数量\">{info.num}（{this.state.units[info.unit]}）</Descriptions.Item>\r\n                    <Descriptions.Item label=\"单价\">{info.price}（元）</Descriptions.Item>\r\n                </Descriptions><br/>\r\n                <Descriptions\r\n                    title=\"操作信息\"\r\n                >\r\n                    <Descriptions.Item span={3}>\r\n                        <Tabs defaultActiveKey=\"2\" style={{width:\"100%\"}} onChange={this.changeTabs}>\r\n                            <Tabs.TabPane tab=\"入库记录\" key=\"2\">\r\n                                <Table\r\n                                    rowKey=\"id\"\r\n                                    onRef={ref=>this.tableRef = ref}\r\n                                    columns={inTableColumns}\r\n                                    data={this.state.recordList}\r\n                                    number={false}\r\n                                />\r\n                            </Tabs.TabPane>\r\n                            <Tabs.TabPane tab=\"出库记录\" key=\"1\">\r\n                                <Table\r\n                                    rowKey=\"id\"\r\n                                    onRef={ref=>this.tableRef = ref}\r\n                                    columns={outTableColumns}\r\n                                    data={this.state.recordList}\r\n                                    number={false}\r\n                                />\r\n                            </Tabs.TabPane>\r\n                            <Tabs.TabPane tab=\"调拨记录\" key=\"3\">\r\n                                <Table\r\n                                    rowKey=\"id\"\r\n                                    onRef={ref=>this.tableRef = ref}\r\n                                    columns={moveTableColumns}\r\n                                    data={this.state.recordList}\r\n                                    number={false}\r\n                                />\r\n                            </Tabs.TabPane>\r\n                        </Tabs>\r\n                    </Descriptions.Item>\r\n                </Descriptions><br/><br/>\r\n                <div align=\"center\">\r\n                    <Button onClick={()=>{this.props.history.goBack()}} icon=\"back\">返回</Button>\r\n                </div>\r\n            </>\r\n        );\r\n    };\r\n};\r\nexport default Detail;"]},"metadata":{},"sourceType":"module"}