{"ast":null,"code":"import _classCallCheck from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport \"antd/es/menu/style\";\nimport _Menu from \"antd/es/menu\";\nvar _jsxFileName = \"E:\\\\project\\\\environment-web\\\\src\\\\components\\\\menu\\\\index.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nvar SubMenu = _Menu.SubMenu;\n\nvar Smenu = /*#__PURE__*/function (_Component) {\n  _inherits(Smenu, _Component);\n\n  function Smenu(props) {\n    var _this;\n\n    _classCallCheck(this, Smenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Smenu).call(this, props));\n\n    _this.link = function (_ref) {\n      var key = _ref.key;\n      sessionStorage.setItem('activi_router_path', key);\n      sessionStorage.setItem('defaultOpenKeys', JSON.stringify(_this.state.defaultOpenKeys));\n\n      _this.props.history.push(\"/\".concat(React.Version + key));\n    };\n\n    _this.onOpenChange = function (keys) {\n      _this.setState({\n        defaultOpenKeys: keys\n      });\n    };\n\n    _this.renderMenu = function (data) {\n      if (data) {\n        return data.map(function (item, i) {\n          if (item.list) {\n            //如果有子节点，继续递归调用，直到没有子节点\n            return /*#__PURE__*/React.createElement(SubMenu, {\n              title: item.name,\n              key: i,\n              icon: /*#__PURE__*/React.createElement(React.IconFont, {\n                style: {\n                  fontSize: '16px'\n                },\n                type: item.icon,\n                __self: _assertThisInitialized(_assertThisInitialized(_this)),\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 31,\n                  columnNumber: 63\n                }\n              }),\n              __self: _assertThisInitialized(_assertThisInitialized(_this)),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 31,\n                columnNumber: 22\n              }\n            }, _this.renderMenu(item.list));\n          } else {\n            if (item.visible) {\n              return /*#__PURE__*/React.createElement(_Menu.Item, {\n                icon: /*#__PURE__*/React.createElement(React.IconFont, {\n                  style: {\n                    fontSize: '16px'\n                  },\n                  type: item.icon,\n                  __self: _assertThisInitialized(_assertThisInitialized(_this)),\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 37,\n                    columnNumber: 49\n                  }\n                }),\n                title: item.name,\n                key: item.url,\n                __self: _assertThisInitialized(_assertThisInitialized(_this)),\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 37,\n                  columnNumber: 32\n                }\n              }, item.name);\n            } else {\n              return null;\n            }\n          }\n        });\n      }\n    };\n\n    _this.state = {\n      defaultOpenKeys: sessionStorage.getItem('defaultOpenKeys') ? JSON.parse(sessionStorage.getItem('defaultOpenKeys')) : []\n    };\n    return _this;\n  }\n\n  _createClass(Smenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.history.push(\"/\".concat(React.Version + sessionStorage.getItem('activi_router_path')));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(_Menu, {\n        mode: \"inline\",\n        theme: this.props.theme,\n        defaultSelectedKeys: [sessionStorage.getItem('activi_router_path')],\n        defaultOpenKeys: this.state.defaultOpenKeys,\n        style: {\n          height: '100%',\n          borderRight: 0,\n          overflow: 'auto'\n        },\n        onClick: this.link,\n        onOpenChange: this.onOpenChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }\n      }, this.renderMenu(this.props.data));\n    }\n  }]);\n\n  return Smenu;\n}(Component);\n\nexport default withRouter(Smenu);","map":{"version":3,"sources":["E:/project/environment-web/src/components/menu/index.js"],"names":["React","Component","withRouter","SubMenu","Smenu","props","link","key","sessionStorage","setItem","JSON","stringify","state","defaultOpenKeys","history","push","Version","onOpenChange","keys","setState","renderMenu","data","map","item","i","list","name","fontSize","icon","visible","url","getItem","parse","theme","height","borderRight","overflow"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport { Menu } from 'antd';\r\nimport {withRouter} from \"react-router-dom\";\r\nconst { SubMenu } = Menu;\r\nclass Smenu extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            defaultOpenKeys: sessionStorage.getItem('defaultOpenKeys')?JSON.parse(sessionStorage.getItem('defaultOpenKeys')):[],\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.history.push(`/${React.Version+sessionStorage.getItem('activi_router_path')}`);\r\n    }\r\n\r\n    link=({key})=>{\r\n        sessionStorage.setItem('activi_router_path',key);\r\n        sessionStorage.setItem('defaultOpenKeys',JSON.stringify(this.state.defaultOpenKeys));\r\n        this.props.history.push(`/${React.Version+key}`);\r\n    }\r\n    onOpenChange=(keys)=>{\r\n        this.setState({defaultOpenKeys: keys});\r\n    }\r\n    \r\n    renderMenu=(data)=>{\r\n        if(data){\r\n            return data.map((item,i)=>{\r\n                if (item.list) {  //如果有子节点，继续递归调用，直到没有子节点\r\n                    return (\r\n                     <SubMenu title={item.name} key={i} icon={<React.IconFont style={{fontSize: '16px'}} type={item.icon} />}>\r\n                         {this.renderMenu(item.list)}\r\n                     </SubMenu>\r\n                    )\r\n                }else {\r\n                    if(item.visible){\r\n                        return <Menu.Item icon={<React.IconFont style={{fontSize: '16px'}} type={item.icon} />} title={item.name} key={item.url}>{item.name}</Menu.Item>\r\n                    }else{\r\n                        return null;\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <Menu\r\n                mode=\"inline\"\r\n                theme={this.props.theme}\r\n                defaultSelectedKeys={[sessionStorage.getItem('activi_router_path')]}\r\n                defaultOpenKeys={this.state.defaultOpenKeys}\r\n                style={{ height: '100%', borderRight: 0,overflow: 'auto' }}\r\n                onClick={this.link}\r\n                onOpenChange={this.onOpenChange}\r\n            >\r\n                {this.renderMenu(this.props.data)}\r\n            </Menu>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Smenu);"]},"metadata":{},"sourceType":"module"}