{"ast":null,"code":"import \"antd/es/divider/style\";\nimport _Divider from \"antd/es/divider\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport _classCallCheck from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\project\\\\environment-web\\\\src\\\\pages\\\\inventory\\\\supplier\\\\List.js\";\nimport React, { Component } from \"react\";\nimport Button from \"@/components/button\";\nimport Table from \"@/components/table\";\nimport Detail from \"./components/Detail\";\nimport Edit from \"./components/Edit\";\n\nvar List = /*#__PURE__*/function (_Component) {\n  _inherits(List, _Component);\n\n  function List(props) {\n    var _this;\n\n    _classCallCheck(this, List);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(List).call(this, props));\n\n    _this.tableRef = function (ref) {\n      _this.Table = ref;\n    };\n\n    _this.tableReload = function () {\n      var params = _this.state.params;\n\n      _this.Table.reload(params);\n    };\n\n    _this.submit = function (values) {\n      _this.setState({\n        params: values\n      });\n\n      _this.tableReload();\n    };\n\n    _this.reset = function () {\n      new Promise(function (resolve) {\n        _this.setState({\n          params: {\n            name: \"\"\n          }\n        });\n\n        resolve();\n      }).then(function () {\n        _this.tableReload();\n      });\n    };\n\n    _this.openDetail = function (detailUserId) {\n      _this.setState({\n        detailVisible: true,\n        detailUserId: detailUserId\n      });\n    };\n\n    _this.closeDetail = function () {\n      _this.setState({\n        detailVisible: false,\n        detailUserId: \"\"\n      });\n    };\n\n    _this.openEdit = function (editId) {\n      _this.setState({\n        editId: editId,\n        editVisible: true\n      });\n    };\n\n    _this.closeEdit = function () {\n      _this.setState({\n        editVisible: false\n      });\n    };\n\n    _this.delete = function (id) {\n      React.message.confirm(\"您确定想要删除此条数据？\", function () {\n        React.axios.post(\"api/wms/twsupplier/delete\", [id], function (res) {\n          _this.tableReload();\n        });\n      });\n    };\n\n    _this.state = {\n      editId: \"\",\n      editVisible: false,\n      detailId: \"\",\n      detailVisible: false,\n      params: {\n        name: \"\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(List, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          editId = _this$state.editId,\n          editVisible = _this$state.editVisible,\n          detailId = _this$state.detailId,\n          detailVisible = _this$state.detailVisible;\n      var tableColumns = [{\n        title: \"名称\",\n        key: \"name\",\n        dataIndex: \"name\"\n      }, {\n        title: \"编号\",\n        key: \"number\",\n        dataIndex: \"number\"\n      }, {\n        title: \"联系人\",\n        key: \"person\",\n        dataIndex: \"person\"\n      }, {\n        title: \"职务\",\n        key: \"job\",\n        dataIndex: \"job\"\n      }, {\n        title: \"联系电话\",\n        key: \"tel\",\n        dataIndex: \"tel\"\n      }, {\n        title: \"邮箱\",\n        key: \"email\",\n        dataIndex: \"email\"\n      }, {\n        title: \"备注\",\n        key: \"remark\",\n        dataIndex: \"remark\"\n      }, {\n        title: \"操作\",\n        width: \"200px\",\n        render: function render(text, record) {\n          return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n            type: \"link\",\n            size: \"small\",\n            onClick: _this2.openDetail.bind(_this2, record.id),\n            authcode: \"inventory:suppliers:info\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"iconfont icon-icon_huabanfuben\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 144\n            }\n          }), \"\\u8BE6\\u60C5\"), /*#__PURE__*/React.createElement(Button, {\n            type: \"link\",\n            size: \"small\",\n            onClick: _this2.openEdit.bind(_this2, record.id),\n            authcode: \"inventory:suppliers:update\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"iconfont icon-bianji\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 145\n            }\n          }), \"\\u4FEE\\u6539\"), /*#__PURE__*/React.createElement(Button, {\n            type: \"link\",\n            size: \"small\",\n            danger: true,\n            onClick: _this2.delete.bind(_this2, record.id),\n            authcode: \"inventory:suppliers:delete\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"iconfont icon-shanchudefuben\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 150\n            }\n          }), \"\\u5220\\u9664\"));\n        }\n      }];\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Form, {\n        layout: \"inline\",\n        onFinish: this.submit,\n        onReset: this.reset,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        name: \"name\",\n        initialValue: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(_Input, {\n        placeholder: \"\\u540D\\u79F0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        icon: \"search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 25\n        }\n      }, \"\\u641C\\u7D22\")), /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        htmlType: \"reset\",\n        icon: \"chongzhi\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 25\n        }\n      }, \"\\u91CD\\u7F6E\"))), /*#__PURE__*/React.createElement(_Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        onClick: this.openEdit.bind(this, \"\"),\n        authcode: \"inventory:supplier:save\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"iconfont icon-tianjia\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 113\n        }\n      }), \"\\u65B0\\u589E\"), /*#__PURE__*/React.createElement(Table, {\n        rowKey: \"id\",\n        ononRef: function ononRef(ref) {\n          return _this2.tableRef = ref;\n        },\n        columns: tableColumns,\n        method: \"get\",\n        url: \"api/wms/twsupplier/list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }\n      }), editVisible && /*#__PURE__*/React.createElement(Edit, {\n        id: editId,\n        close: this.closeEdit,\n        tableReload: this.tableReload,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 33\n        }\n      }), detailVisible && /*#__PURE__*/React.createElement(Detail, {\n        id: detailId,\n        close: this.closeDetail,\n        tableReload: this.tableReload,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 35\n        }\n      }));\n    }\n  }]);\n\n  return List;\n}(Component);\n\n;\nexport default List;","map":{"version":3,"sources":["E:/project/environment-web/src/pages/inventory/supplier/List.js"],"names":["React","Component","Button","Table","Detail","Edit","List","props","tableRef","ref","tableReload","params","state","reload","submit","values","setState","reset","Promise","resolve","name","then","openDetail","detailUserId","detailVisible","closeDetail","openEdit","editId","editVisible","closeEdit","delete","id","message","confirm","axios","post","res","detailId","tableColumns","title","key","dataIndex","width","render","text","record","bind"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\";\r\nimport {Form,Input,Divider} from \"antd\";\r\nimport Button from \"@/components/button\";\r\nimport Table from \"@/components/table\";\r\n\r\nimport Detail from \"./components/Detail\";\r\nimport Edit from \"./components/Edit\";\r\n\r\nclass List extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state= {\r\n            editId:\"\",\r\n            editVisible:false,\r\n            detailId:\"\",\r\n            detailVisible:false,\r\n            params:{name:\"\"},\r\n        };\r\n    };\r\n\r\n    /**\r\n     * @todo Table组件通信\r\n     * @param {object} ref\r\n     */\r\n    tableRef = (ref) => {\r\n        this.Table = ref;\r\n    };\r\n    /**\r\n     * @todo 搜索与刷新\r\n     */\r\n    tableReload = () => {\r\n        const {params} = this.state;\r\n        this.Table.reload(params);\r\n    };\r\n\r\n    /**\r\n     * @todo 搜索\r\n     */\r\n    submit = (values) => {\r\n        this.setState({params:values});\r\n        this.tableReload();\r\n    };\r\n    /**\r\n     * @todo 重置搜索\r\n     */\r\n    reset = () => {\r\n        new Promise((resolve) => {\r\n            this.setState({params:{name:\"\"}});\r\n            resolve();\r\n        }).then(() => {\r\n            this.tableReload();\r\n        });\r\n    };\r\n\r\n    /**\r\n     * @todo 打开详情\r\n     * @param {string} detailUserId\r\n     */\r\n    openDetail = (detailUserId) => {\r\n        this.setState({detailVisible:true,detailUserId});\r\n    };\r\n    /**\r\n     * @todo 关闭详情\r\n     */\r\n    closeDetail = () => {\r\n        this.setState({detailVisible:false,detailUserId:\"\"});\r\n    };\r\n\r\n    /**\r\n     * @todo 打开编辑模态框\r\n     */\r\n    openEdit = (editId) => {\r\n        this.setState({editId,editVisible:true});\r\n    };\r\n    /**\r\n     * @todo 关闭编辑模态框\r\n     */\r\n    closeEdit = () => {\r\n        this.setState({editVisible:false});\r\n    };\r\n\r\n    /**\r\n     * @todo 删除用户\r\n     * @param {string} userId\r\n     */\r\n    delete = (id) => {\r\n        React.message.confirm(\r\n            \"您确定想要删除此条数据？\",\r\n            () => {\r\n                React.axios.post(\"api/wms/twsupplier/delete\",[id],res => {\r\n                    this.tableReload();\r\n                });\r\n            }\r\n        );\r\n    };\r\n\r\n    render(){\r\n        const {editId,editVisible,detailId,detailVisible} = this.state;\r\n\r\n        const tableColumns = [\r\n            {\r\n                title:\"名称\",\r\n                key:\"name\",\r\n                dataIndex:\"name\",\r\n            },\r\n            {\r\n                title:\"编号\",\r\n                key:\"number\",\r\n                dataIndex:\"number\",\r\n            },\r\n            {\r\n                title:\"联系人\",\r\n                key:\"person\",\r\n                dataIndex:\"person\",\r\n            },\r\n            {\r\n                title:\"职务\",\r\n                key:\"job\",\r\n                dataIndex:\"job\",\r\n            },\r\n            {\r\n                title:\"联系电话\",\r\n                key:\"tel\",\r\n                dataIndex:\"tel\",\r\n            },\r\n            {\r\n                title:\"邮箱\",\r\n                key:\"email\",\r\n                dataIndex:\"email\",\r\n            },\r\n            {\r\n                title:\"备注\",\r\n                key:\"remark\",\r\n                dataIndex:\"remark\",\r\n            },\r\n            {\r\n                title:\"操作\",\r\n                width:\"200px\",\r\n                render:(text,record) => {\r\n                    return(\r\n                        <>\r\n                            <Button type=\"link\" size=\"small\"onClick={this.openDetail.bind(this,record.id)} authcode=\"inventory:suppliers:info\"><span className=\"iconfont icon-icon_huabanfuben\"/>详情</Button>\r\n                            <Button type=\"link\" size=\"small\" onClick={this.openEdit.bind(this,record.id)} authcode=\"inventory:suppliers:update\"><span className=\"iconfont icon-bianji\"/>修改</Button>\r\n                            <Button type=\"link\" size=\"small\" danger onClick={this.delete.bind(this,record.id)} authcode=\"inventory:suppliers:delete\"><span className=\"iconfont icon-shanchudefuben\"/>删除</Button>\r\n                        </>\r\n                    );\r\n                },\r\n            },\r\n        ];\r\n\r\n        return(\r\n            <>\r\n                <Form\r\n                    layout=\"inline\"\r\n                    onFinish={this.submit}\r\n                    onReset={this.reset}\r\n                >\r\n                    <Form.Item\r\n                        name=\"name\"\r\n                        initialValue=\"\"\r\n                    >\r\n                        <Input placeholder=\"名称\"/>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\" icon=\"search\">搜索</Button>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button htmlType=\"reset\" icon=\"chongzhi\">重置</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n                <Divider/>\r\n                <Button type=\"primary\" onClick={this.openEdit.bind(this,\"\")} authcode=\"inventory:supplier:save\"><span className=\"iconfont icon-tianjia\"/>新增</Button>\r\n                <Table\r\n                    rowKey=\"id\"\r\n                    ononRef={ref=>this.tableRef = ref}\r\n                    columns={tableColumns}\r\n                    method=\"get\"\r\n                    url=\"api/wms/twsupplier/list\"\r\n                />\r\n                {editVisible && <Edit id={editId} close={this.closeEdit} tableReload={this.tableReload}/>}\r\n                {detailVisible && <Detail id={detailId} close={this.closeDetail} tableReload={this.tableReload}/>}\r\n            </>\r\n        );\r\n    };\r\n};\r\nexport default List;"]},"metadata":{},"sourceType":"module"}