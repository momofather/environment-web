{"ast":null,"code":"import \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport _classCallCheck from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\project\\\\environment-web\\\\src\\\\pages\\\\system\\\\dictionary\\\\deliverymode\\\\Edit.js\";\nimport React, { Component } from 'react';\n\nvar Edit = /*#__PURE__*/function (_Component) {\n  _inherits(Edit, _Component);\n\n  function Edit() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Edit);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Edit)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.formRef = React.createRef();\n\n    _this.onOk = function () {\n      _this.formRef.current.validateFields().then(function (values) {\n        values.id = _this.props.id;\n        values.number = React.enums[_this.props.method];\n        var url = 'api/wmsType/tmaterialtype/save';\n\n        if (values.id) {\n          url = 'api/wmsType/tmaterialtype/update';\n        }\n\n        React.axios.post(url, values, function () {\n          React.message.success('保存成功');\n\n          _this.props.onOk();\n        });\n      }).catch();\n    };\n\n    _this.info = function () {\n      React.axios.get('api/wmsType/tmaterialtype/info/' + _this.props.id, null, function (res) {\n        _this.formRef.current.setFieldsValue(res.data);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Edit, [{\n    key: \"render\",\n    value: function render() {\n      var title = '添加';\n\n      if (this.props.id) {\n        title = '修改';\n        this.info();\n      }\n\n      if (this.props.method === 'inMethod') {\n        title += '入库方式';\n      } else {\n        title += '出库方式';\n      }\n\n      return /*#__PURE__*/React.createElement(_Modal, {\n        title: title,\n        visible: true,\n        onCancel: this.props.onCancel,\n        onOk: this.onOk,\n        maskClosable: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(_Form, {\n        ref: this.formRef,\n        labelCol: {\n          span: 3\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"\\u540D\\u79F0\",\n        name: \"name\",\n        rules: [{\n          required: true,\n          message: '请输入名称'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(_Input, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"\\u5907\\u6CE8\",\n        name: \"remark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(_Input, {\n        maxLength: 100,\n        placeholder: \"100\\u4E2A\\u5B57\\u5185\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }\n      }))));\n    }\n  }]);\n\n  return Edit;\n}(Component);\n\nexport default Edit;","map":{"version":3,"sources":["E:/project/environment-web/src/pages/system/dictionary/deliverymode/Edit.js"],"names":["React","Component","Edit","formRef","createRef","onOk","current","validateFields","then","values","id","props","number","enums","method","url","axios","post","message","success","catch","info","get","res","setFieldsValue","data","title","onCancel","span","required"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;IAEMC,I;;;;;;;;;;;;;;;UACFC,O,GAAUH,KAAK,CAACI,SAAN,E;;UAEVC,I,GAAK,YAAI;AACL,YAAKF,OAAL,CAAaG,OAAb,CAAqBC,cAArB,GAAsCC,IAAtC,CAA2C,UAAAC,MAAM,EAAE;AAC/CA,QAAAA,MAAM,CAACC,EAAP,GAAY,MAAKC,KAAL,CAAWD,EAAvB;AACAD,QAAAA,MAAM,CAACG,MAAP,GAAgBZ,KAAK,CAACa,KAAN,CAAY,MAAKF,KAAL,CAAWG,MAAvB,CAAhB;AACA,YAAIC,GAAG,GAAG,gCAAV;;AACA,YAAGN,MAAM,CAACC,EAAV,EAAa;AACTK,UAAAA,GAAG,GAAG,kCAAN;AACH;;AACDf,QAAAA,KAAK,CAACgB,KAAN,CAAYC,IAAZ,CAAiBF,GAAjB,EAAsBN,MAAtB,EAA8B,YAAI;AAC9BT,UAAAA,KAAK,CAACkB,OAAN,CAAcC,OAAd,CAAsB,MAAtB;;AACA,gBAAKR,KAAL,CAAWN,IAAX;AACH,SAHD;AAIH,OAXD,EAWGe,KAXH;AAYH,K;;UAEDC,I,GAAK,YAAI;AACLrB,MAAAA,KAAK,CAACgB,KAAN,CAAYM,GAAZ,CAAgB,oCAAkC,MAAKX,KAAL,CAAWD,EAA7D,EAAgE,IAAhE,EAAqE,UAAAa,GAAG,EAAE;AACtE,cAAKpB,OAAL,CAAaG,OAAb,CAAqBkB,cAArB,CAAoCD,GAAG,CAACE,IAAxC;AACH,OAFD;AAGH,K;;;;;;;6BACQ;AACL,UAAIC,KAAK,GAAG,IAAZ;;AACA,UAAG,KAAKf,KAAL,CAAWD,EAAd,EAAiB;AACbgB,QAAAA,KAAK,GAAG,IAAR;AACA,aAAKL,IAAL;AACH;;AACD,UAAG,KAAKV,KAAL,CAAWG,MAAX,KAAoB,UAAvB,EAAkC;AAC9BY,QAAAA,KAAK,IAAE,MAAP;AACH,OAFD,MAEK;AACDA,QAAAA,KAAK,IAAE,MAAP;AACH;;AACD,0BACI;AAAO,QAAA,KAAK,EAAEA,KAAd;AAAqB,QAAA,OAAO,EAAE,IAA9B;AAAoC,QAAA,QAAQ,EAAE,KAAKf,KAAL,CAAWgB,QAAzD;AAAmE,QAAA,IAAI,EAAE,KAAKtB,IAA9E;AAAoF,QAAA,YAAY,EAAE,KAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAM,QAAA,GAAG,EAAE,KAAKF,OAAhB;AAAyB,QAAA,QAAQ,EAAE;AAACyB,UAAAA,IAAI,EAAE;AAAP,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,0BAAM,IAAN;AAAW,QAAA,KAAK,EAAC,cAAjB;AAAsB,QAAA,IAAI,EAAC,MAA3B;AAAkC,QAAA,KAAK,EAAE,CAAC;AAACC,UAAAA,QAAQ,EAAE,IAAX;AAAgBX,UAAAA,OAAO,EAAE;AAAzB,SAAD,CAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,eAII,0BAAM,IAAN;AAAW,QAAA,KAAK,EAAC,cAAjB;AAAsB,QAAA,IAAI,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAO,QAAA,SAAS,EAAE,GAAlB;AAAuB,QAAA,WAAW,EAAC,uBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAJJ,CADJ,CADJ;AAYH;;;;EA9CcjB,S;;AAiDnB,eAAeC,IAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport {Modal,Form,Input} from 'antd';\r\nclass Edit extends Component {\r\n    formRef = React.createRef();\r\n    // 保存\r\n    onOk=()=>{\r\n        this.formRef.current.validateFields().then(values=>{\r\n            values.id = this.props.id;\r\n            values.number = React.enums[this.props.method];\r\n            let url = 'api/wmsType/tmaterialtype/save'\r\n            if(values.id){\r\n                url = 'api/wmsType/tmaterialtype/update'\r\n            }\r\n            React.axios.post(url, values, ()=>{\r\n                React.message.success('保存成功');\r\n                this.props.onOk();\r\n            })\r\n        }).catch();\r\n    }\r\n    // 详情\r\n    info=()=>{\r\n        React.axios.get('api/wmsType/tmaterialtype/info/'+this.props.id,null,res=>{\r\n            this.formRef.current.setFieldsValue(res.data);\r\n        })\r\n    }\r\n    render() {\r\n        let title = '添加';\r\n        if(this.props.id){\r\n            title = '修改';\r\n            this.info();\r\n        }\r\n        if(this.props.method==='inMethod'){\r\n            title+='入库方式'\r\n        }else{\r\n            title+='出库方式'\r\n        }\r\n        return (\r\n            <Modal title={title} visible={true} onCancel={this.props.onCancel} onOk={this.onOk} maskClosable={false}>\r\n                <Form ref={this.formRef} labelCol={{span: 3}}>\r\n                    <Form.Item label=\"名称\" name=\"name\" rules={[{required: true,message: '请输入名称'}]}>\r\n                        <Input />\r\n                    </Form.Item>\r\n                    <Form.Item label=\"备注\" name=\"remark\">\r\n                        <Input maxLength={100} placeholder=\"100个字内\"/>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Edit;"]},"metadata":{},"sourceType":"module"}