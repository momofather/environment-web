{"ast":null,"code":"import \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/breadcrumb/style\";\nimport _Breadcrumb from \"antd/es/breadcrumb\";\nimport _classCallCheck from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\project\\\\environment-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\project\\\\environment-web\\\\src\\\\pages\\\\inventory\\\\goodsChecking\\\\components\\\\Detail.js\";\nimport React, { Component } from \"react\";\nimport Table from \"@/components/table\";\nimport Button from \"@/components/button\";\n\nvar Detail = /*#__PURE__*/function (_Component) {\n  _inherits(Detail, _Component);\n\n  function Detail(props) {\n    var _this;\n\n    _classCallCheck(this, Detail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Detail).call(this, props));\n    _this.formRef = React.createRef();\n\n    _this.getUnitList = function () {\n      React.axios.post('api/wmsType/tmaterialtype/queryMaterialTypeList?number=unit', null, function (res) {\n        var obj = {};\n        res.data.forEach(function (item) {\n          obj[item.id] = item.name;\n        });\n\n        _this.setState({\n          units: obj\n        });\n      });\n    };\n\n    _this.state = {\n      info: null,\n      units: {}\n    };\n    return _this;\n  }\n\n  _createClass(Detail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.getUnitList();\n      React.axios.get(\"api/wms/twarehousebill/info/\" + this.props.match.params.id, \"\", function (res) {\n        _this2.setState({\n          info: res.data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var tableColumns = [{\n        title: \"物料编号\",\n        key: \"number\",\n        dataIndex: \"number\"\n      }, {\n        title: \"物料名称\",\n        key: \"name\",\n        dataIndex: \"name\"\n      }, {\n        title: \"单价\",\n        key: \"price\",\n        dataIndex: \"price\",\n        render: function render(text, record) {\n          return \"\".concat(record.price, \"\\u5143/\").concat(_this3.state.units[record.unit]);\n        }\n      }, {\n        title: \"存放位置\",\n        render: function render(text, record) {\n          return /*#__PURE__*/React.createElement(_Breadcrumb, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 25\n            }\n          }, record.houseName), /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 25\n            }\n          }, record.locationName), /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 25\n            }\n          }, record.shelvesName));\n        }\n      }, {\n        title: \"库存数量\",\n        key: \"num\",\n        dataIndex: \"num\",\n        align: 'center'\n      }, {\n        title: \"金额\",\n        align: 'center',\n        render: function render(text, record) {\n          return \"\".concat(record.price * record.num, \"\\u5143\");\n        }\n      }, {\n        title: \"盘点数量\",\n        align: 'center',\n        key: 'countNum',\n        dataIndex: 'countNum'\n      }, {\n        title: \"盈\",\n        align: 'center',\n        render: function render(text, record) {\n          return record.num - record.countNum > 0 && record.countNum !== null ? record.num - record.countNum : 0;\n        }\n      }, {\n        title: \"亏\",\n        align: 'center',\n        render: function render(text, record) {\n          return record.countNum - record.num > 0 && record.countNum !== null ? record.countNum - record.num : 0;\n        }\n      }];\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.info && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Form, {\n        labelCol: {\n          span: 5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 24\n        },\n        md: {\n          span: 11\n        },\n        lg: {\n          span: 7\n        },\n        xl: {\n          span: 7\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"\\u6807\\u9898\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 33\n        }\n      }, this.state.info.name)), /*#__PURE__*/React.createElement(_Col, {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 24\n        },\n        md: {\n          span: 11\n        },\n        lg: {\n          span: 7\n        },\n        xl: {\n          span: 7\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"\\u8D1F\\u8D23\\u4EBA\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 33\n        }\n      }, this.state.info.username)), /*#__PURE__*/React.createElement(_Col, {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 24\n        },\n        md: {\n          span: 11\n        },\n        lg: {\n          span: 7\n        },\n        xl: {\n          span: 7\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"\\u5907\\u6CE8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 33\n        }\n      }, this.state.info.remark)), /*#__PURE__*/React.createElement(_Col, {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 24\n        },\n        md: {\n          span: 11\n        },\n        lg: {\n          span: 7\n        },\n        xl: {\n          span: 7\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"\\u76D8\\u70B9\\u65E5\\u671F\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 33\n        }\n      }, this.state.info.housedate)), /*#__PURE__*/React.createElement(_Col, {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 24\n        },\n        md: {\n          span: 11\n        },\n        lg: {\n          span: 7\n        },\n        xl: {\n          span: 7\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"\\u76D8\\u70B9\\u65B9\\u5F0F\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 33\n        }\n      }, React.enums.deliverymodes[this.state.info.deliverymode])))), /*#__PURE__*/React.createElement(Table, {\n        rowKey: \"id\",\n        columns: tableColumns,\n        data: this.state.info.wareinventoryStockEntity,\n        pager: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 22\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        icon: \"back\",\n        onClick: this.props.history.goBack,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }\n      }, \"\\u8FD4\\u56DE\")));\n    }\n  }]);\n\n  return Detail;\n}(Component);\n\n;\nexport default Detail;","map":{"version":3,"sources":["E:/project/environment-web/src/pages/inventory/goodsChecking/components/Detail.js"],"names":["React","Component","Table","Button","Detail","props","formRef","createRef","getUnitList","axios","post","res","obj","data","forEach","item","id","name","setState","units","state","info","get","match","params","tableColumns","title","key","dataIndex","render","text","record","price","unit","houseName","locationName","shelvesName","align","num","countNum","span","username","remark","housedate","enums","deliverymodes","deliverymode","wareinventoryStockEntity","history","goBack"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\";\r\nimport {Form,Row,Col,Breadcrumb} from \"antd\";\r\nimport Table from \"@/components/table\";\r\nimport Button from \"@/components/button\";\r\n\r\nclass Detail extends Component{\r\n    formRef = React.createRef();\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            info: null,\r\n            units: {}\r\n        };\r\n    };\r\n\r\n    componentDidMount(){\r\n        this.getUnitList();\r\n        React.axios.get(\"api/wms/twarehousebill/info/\"+this.props.match.params.id,\"\",res => {\r\n            this.setState({info: res.data});\r\n        });\r\n    };\r\n    // 获取计量单位\r\n    getUnitList=()=>{\r\n        React.axios.post('api/wmsType/tmaterialtype/queryMaterialTypeList?number=unit',null,res=>{\r\n            let obj = {};\r\n            res.data.forEach(item=>{\r\n                obj[item.id] = item.name;\r\n            })\r\n            this.setState({units: obj});\r\n        })\r\n    }\r\n\r\n    render(){\r\n        const tableColumns = [\r\n            {\r\n                title:\"物料编号\",\r\n                key:\"number\",\r\n                dataIndex:\"number\",\r\n            },\r\n            {\r\n                title:\"物料名称\",\r\n                key:\"name\",\r\n                dataIndex:\"name\",\r\n            },\r\n            {\r\n                title:\"单价\",\r\n                key:\"price\",\r\n                dataIndex:\"price\",\r\n                render:(text,record) => {\r\n                    return `${record.price}元/${this.state.units[record.unit]}`;\r\n                },\r\n            },\r\n            {\r\n                title:\"存放位置\",\r\n                render:(text,record) =>\r\n                    <Breadcrumb>\r\n                        <Breadcrumb.Item>{record.houseName}</Breadcrumb.Item>\r\n                        <Breadcrumb.Item>{record.locationName}</Breadcrumb.Item>\r\n                        <Breadcrumb.Item>{record.shelvesName}</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n            },\r\n            {\r\n                title:\"库存数量\",\r\n                key:\"num\",\r\n                dataIndex:\"num\",\r\n                align: 'center',\r\n            },\r\n            {\r\n                title:\"金额\",\r\n                align: 'center',\r\n                render:(text,record) => {\r\n                    return `${record.price*record.num}元`;\r\n                },\r\n            },\r\n            {\r\n                title:\"盘点数量\",\r\n                align: 'center',\r\n                key: 'countNum',\r\n                dataIndex: 'countNum'\r\n            },\r\n            {\r\n                title:\"盈\",\r\n                align: 'center',\r\n                render:(text,record) => {\r\n                    return record.num-record.countNum>0&&record.countNum!==null?record.num-record.countNum:0;\r\n                },\r\n            },\r\n            {\r\n                title:\"亏\",\r\n                align: 'center',\r\n                render:(text,record) => {\r\n                    return record.countNum-record.num>0&&record.countNum!==null?record.countNum-record.num:0;\r\n                },\r\n            },\r\n        ];\r\n\r\n        return(\r\n            <>\r\n                {this.state.info&&<>\r\n                    <Form\r\n                        labelCol={{span: 5}}\r\n                    >\r\n                        <Row>\r\n                            <Col xs={{span:24}} sm={{span:24}} md={{span:11}} lg={{span:7}} xl={{span:7}}>\r\n                                <Form.Item\r\n                                    label=\"标题\"\r\n                                >\r\n                                    {this.state.info.name}\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col xs={{span:24}} sm={{span:24}} md={{span:11}} lg={{span:7}} xl={{span:7}}>\r\n                                <Form.Item label=\"负责人\">\r\n                                    {this.state.info.username}\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col xs={{span:24}} sm={{span:24}} md={{span:11}} lg={{span:7}} xl={{span:7}}>\r\n                                <Form.Item label=\"备注\">\r\n                                    {this.state.info.remark}\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col xs={{span:24}} sm={{span:24}} md={{span:11}} lg={{span:7}} xl={{span:7}}>\r\n                                <Form.Item label=\"盘点日期\">\r\n                                    {this.state.info.housedate}\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col xs={{span:24}} sm={{span:24}} md={{span:11}} lg={{span:7}} xl={{span:7}}>\r\n                                <Form.Item label=\"盘点方式\">\r\n                                    {React.enums.deliverymodes[this.state.info.deliverymode]}\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                    \r\n                    <Table\r\n                        rowKey=\"id\"\r\n                        columns={tableColumns}\r\n                        data={this.state.info.wareinventoryStockEntity}\r\n                        pager={false}\r\n                    />\r\n                </>}\r\n                <br/><br/>\r\n                <div align=\"center\">\r\n                    <Button icon=\"back\" onClick={this.props.history.goBack}>返回</Button>\r\n                </div>\r\n            </>\r\n        );\r\n    };\r\n};\r\nexport default Detail;"]},"metadata":{},"sourceType":"module"}